<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
  </head>
  <body>
    <h1>Youtube Player</h1>
    <input type="text" id="inp-url-playlist"/>
    <button id="btn-load">Cargar</button>
    <div id="youtube-player"></div>

    <script>

        //player.setShuffle

        // Función onready
        document.addEventListener( 'DOMContentLoaded', function () {
            waitEvent();
        }, false );
        // Inicializamos las variables controladoras por defecto
        var isPlaying = false;
        var checkYoutubeReady = false;
        // Cargamos el Iframe con los datos
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/player_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
        // Creamos el reproductor
        var player;
        function onYouTubePlayerAPIReady() {
            checkYoutubeReady = true;
        }

        // Función escucha de eventos de teclado
        function waitEvent() {
            var ipcRenderer = require('electron').ipcRenderer;
            ipcRenderer.once('invokeKeyboardAction', function(event, response){
                switch (response) {
                  case 'MediaPlayPause':
                    isPlaying ? player.pauseVideo() : player.playVideo();
                    isPlaying = !isPlaying;
                    break;
                  case 'MediaStop':
                    player.stopVideo();
                    isPlaying = false;
                    break;
                  case 'MediaPreviousTrack':
                    player.previousVideo();
                    isPlaying = true;
                    break;
                  case 'MediaNextTrack':
                    player.nextVideo();
                    isPlaying = true;
                    break;
                }
                waitEvent();
            });
        }

        var btn_load = document.getElementById('btn-load');
        btn_load.addEventListener('click', function (event) {
            var inp_url_playlist = document.getElementById('inp-url-playlist');
            var strID = getParameterByName("list", inp_url_playlist.value);
            console.log(strID);
            if(checkYoutubeReady){
              player = new YT.Player('youtube-player', {
                  height: '360',
                  width: '640',
                  playerVars:
                  {
                      listType:'playlist',
                      list: strID
                  }
                });
            }else{
                //mostrar alerta no estas preparado
            }
        });

        // Funcion auxiliar para obtener queryparams
        function getParameterByName(name, url) {
            if (!url) {
                url = window.location.href;
            }
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
                return decodeURIComponent(results[2].replace(/\+/g, " "));
        }
    </script>
  </body>
</html>
